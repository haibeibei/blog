[{"title":"express web开发常用代码","date":"2017-08-01T16:00:17.000Z","path":"2017/08/02/express web开发常用代码/","text":"处理普通post请求12345678const bodyParser = require('body-parser');// parse application/x-www-form-urlencodedapp.use(bodyParser.urlencoded(&#123;extended: false&#125;));// parse application/jsonapp.use(bodyParser.json());app.post('/',(req,res)=&gt;&#123; console.log(req.body);&#125;) 处理session1234567891011121314151617const session = require('express-session');app.use(session(&#123; secret: 'keyboard cat', resave: false, saveUninitialized: true&#125;));app.get('/logincheck',(req,res)=&gt;&#123; req.session.login = true;&#125;)// 中间件app.use('/admin',(req,res,next)=&gt;&#123; if(req.seesion.login)&#123; next(); &#125;else&#123; res.redirct('/login'); &#125;&#125;) 上传文件12345678910111213141516171819const fs = require('fs');const async = require('async');const multer = require('multer');const upload = multer(&#123;dest: 'uploads/'&#125;);app.post('/upload', upload.single('wangEditorH5File'), function (req, res) &#123; async.series([ function (callback) &#123; fs.createReadStream(req.file.path).pipe(fs.createWriteStream('public/imgs/' + req.file.originalname)); callback(null); &#125;, function (callback) &#123; fs.unlink(path.resolve(req.file.path)); callback(null); &#125; ], function () &#123; res.end('/imgs/' + req.file.originalname); &#125;);&#125;);","comments":true,"tags":[{"name":"博客","slug":"博客","permalink":"https://haibeibei.github.io/tags/博客/"}]},{"title":"Hello World","date":"2017-08-01T14:51:11.719Z","path":"2017/08/01/hello-world/","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","comments":true,"tags":[]}]